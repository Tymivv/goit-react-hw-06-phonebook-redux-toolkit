(this["webpackJsonpgoit-react-hw-06-phonebook-redux-toolkit"]=this["webpackJsonpgoit-react-hw-06-phonebook-redux-toolkit"]||[]).push([[0],{28:function(t,e,n){},30:function(t,e,n){},31:function(t,e,n){"use strict";n.r(e);var a={};n.r(a),n.d(a,"setContacts",(function(){return m})),n.d(a,"addContacts",(function(){return h})),n.d(a,"editContacts",(function(){return O})),n.d(a,"deleteContacts",(function(){return p})),n.d(a,"changeFilter",(function(){return g})),n.d(a,"default",(function(){return C}));var c=n(0),r=n.n(c),o=n(5),i=n.n(o),s=n(6),u=n(10),l=n(4),d=n(11),b=n.n(d),f=Object(s.b)({name:"contacts",initialState:{items:[],filter:""},reducers:{setContacts:function(t,e){var n=e.payload;t.items=n},addContacts:function(t,e){var n=e.payload;t.items.push(n)},editContacts:function(t,e){var n=e.payload,a=t.items.findIndex((function(t){return t.id===n.id}));t.items[a]=n},deleteContacts:function(t,e){var n=e.payload,a=t.items.findIndex((function(t){return t.id===n.id}));t.items.splice(a,1)},changeFilter:function(t,e){var n=e.payload;t.filter=n}}}),j=f.actions,m=j.setContacts,h=j.addContacts,O=j.editContacts,p=j.deleteContacts,g=j.changeFilter,C=f.reducer,v={key:"filter",storage:b.a,whitelist:["filter"]},x=Object(u.createLogger)({collapsed:function(t,e,n){return!n.error},timestamp:!1}),y=Object(s.a)({reducer:{contacts:Object(l.g)(v,C)},middleware:function(t){return t({serializableCheck:{ignoredActions:[l.a,l.f,l.b,l.c,l.d,l.e]}}).concat(x)},devTools:!1}),A=Object(l.h)(y),w=n(3),N=n(13),S=n(9),k=(n(28),n(1)),z=function(t){var e=t.onSubmit,n=Object(c.useState)(""),a=Object(S.a)(n,2),r=a[0],o=a[1],i=Object(c.useState)(""),s=Object(S.a)(i,2),u=s[0],l=s[1];return Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)("form",{className:"heading",onSubmit:function(t){t.preventDefault(),e({name:r,number:u}),o(""),l("")},children:[Object(k.jsxs)("label",{children:["Name",Object(k.jsx)("input",{type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,value:r,onChange:function(t){var e=t.target.value;o(e)}})]}),Object(k.jsxs)("label",{children:["Phone",Object(k.jsx)("input",{type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,value:u,onChange:function(t){var e=t.target.value;l(e)}})]}),Object(k.jsx)("button",{className:"button8",type:"submit",children:"Add contact"})]})})},F=(n(30),function(t){var e=t.onDelete,n=Object(w.c)((function(t){return t.contacts.filter})),a=Object(w.c)((function(t){return t.contacts.items}));return Object(k.jsx)("ul",{className:"list",children:function(){var t=n.toLowerCase();return a.filter((function(e){return e.nameContact.toLowerCase().includes(t)}))}().map((function(t){var n=t.id,a=t.nameContact,c=t.tel;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("li",{className:"item",children:[a," : ",c]},n),Object(k.jsxs)("button",{className:"button9",type:"button",onClick:e(n),children:["Delete ",a]})]})}))})}),J=function(t){t.value,t.onChange;var e=Object(w.c)((function(t){return t.contacts.filter})),n=Object(w.b)();return Object(k.jsxs)("label",{className:"heading",children:["Find contact by name",Object(k.jsx)("input",{type:"text",name:"filter",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,value:e,onChange:function(t){return n(a.changeFilter(t.target.value))}})]})},Z=n(14),I="contacts",L=function(){var t=Object(w.c)((function(t){return t.contacts.items})),e=Object(w.c)((function(t){return t.contacts.filter})),n=Object(w.b)();Object(c.useEffect)((function(){var t=function(t){try{return JSON.parse(localStorage.getItem(t))}catch(e){return null}}(I);t&&n(a.setContacts(t))}),[n]),Object(c.useEffect)((function(){!function(t,e){try{localStorage.setItem(t,JSON.stringify(e))}catch(n){return null}}(I,t)}),[t]);return Object(k.jsxs)("div",{children:[Object(k.jsx)("h1",{children:"Phonebooc"}),Object(k.jsx)(z,{onSubmit:function(e){var c=e.name,r=e.number;if(t.some((function(t){t.id;var e=t.nameContact;t.tel;return e.toLowerCase()===c.toLowerCase()})))alert('name "'.concat(c,'" is already in list'));else{var o={id:Object(Z.a)(),nameContact:c,tel:r};console.log(o),n(a.addContacts(o)),console.log(t)}}}),Object(k.jsx)(J,{value:e,onChange:function(t){return n=t.target.value,void e(n);var n}}),Object(k.jsx)(F,{onDelete:function(t){return function(){n(a.deleteContacts(t))}}})]})};i.a.render(Object(k.jsx)(r.a.StrictMode,{children:Object(k.jsx)(w.a,{store:y,children:Object(k.jsx)(N.a,{loading:null,persistor:A,children:Object(k.jsx)(L,{})})})}),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.275c67e9.chunk.js.map